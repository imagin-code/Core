<Window x:Class="Imagin.Common.Controls.LoadWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:Imagin.Common.Controls"
    xmlns:Converters="clr-namespace:Imagin.Common.Converters"
    xmlns:Data="clr-namespace:Imagin.Common.Data"
    xmlns:Linq="clr-namespace:Imagin.Common.Linq">
    <Grid Linq:XGrid.Rows="Auto,Auto"
        DataContext="{Data:Ancestor {x:Type local:LoadWindow}}">
        <ProgressBar Grid.Row="0"
            Height="16"
            IsIndeterminate="{Binding IsIndeterminate}"
            Maximum="1"
            Minimum="0"
            Value="{Binding Progress}"/>
        <TextBlock Grid.Row="1"
            HorizontalAlignment="Center"
            Margin="0,5,0,0"
            Text="{Binding Message}"
            TextTrimming="CharacterEllipsis"
            Visibility="{Binding Message, Converter={x:Static Converters:ObjectToVisibilityConverter.Default}}"/>
    </Grid>
</Window>